namespace ReCommendedExtension.Tests.test.data
{
    public class Simple
    {
        delegate string NonNullableReference(string value);
        delegate string? NullableReference(string? value);
        delegate int NonNullableValue(int value);
        delegate int? NullableValue(int? value);

        void PassingNull(NonNullableReference nonNullableReference, NullableReference nullableReference, NonNullableValue nonNullableValue, NullableValue nullableValue)
        {
            nonNullableReference(|null|(0));
            nullableReference(null);
            nonNullableValue(default);
            nullableValue(default);
        }

        void CheckingReturnValue(NonNullableReference nonNullableReference, NullableReference nullableReference, NonNullableValue nonNullableValue, NullableValue nullableValue)
        {
            if (|nonNullableReference("one") != null|(1)) { }
            if (nullableReference("one") != null) { }
            if (||nonNullableValue(1) != null|(2)|(3)) { }
            if (nullableValue(1) != null) { }
        }

        void Dereferencing(NonNullableReference nonNullableReference, NullableReference nullableReference, NonNullableValue nonNullableValue, NullableValue nullableValue)
        {
            System.Console.WriteLine(nonNullableReference("one").Length);
            System.Console.WriteLine(|nullableReference("one")|(4).Length);
            System.Console.WriteLine(nonNullableValue(1).ToString());
            System.Console.WriteLine(nullableValue(1).ToString());
        }
    }
}
---------------------------------------------------------
(0): ReSharper Warning: Possible 'null' assignment to entity marked with 'NotNull' attribute
(1): ReSharper Warning: Expression is always true
(2):<overlapped> ReSharper Warning: Expression is always true
(3): ReSharper Warning: Expression is always true
(4): ReSharper Warning: Possible 'System.NullReferenceException'
